# Upgrade the Cluster

# On the Control Plane nodes
sudo apt update

cat /etc/apt/sources.list.d/kubernetes.list

# Update version
vim /etc/apt/sources.list.d/kubernetes.list
"""
deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.31/deb/ /
"""

apt-get update
apt-cache madison kubeadm
apt-mark unhold kubeadm
apt-get install -y kubeadm=1.31.7-1.1
apt-mark hold kubeadm
kubeadm version

kubectl drain cp --ignore-daemonsets

kubeadm upgrade plan
kubeadm upgrade apply v1.31.7






